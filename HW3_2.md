HW3
================
Shayne Estill (ske2118)

The “ny_noaa” dataset has 2595176 rows and 7 columns. From the NY NOAA
information page, The resulting R dataset ny_noaa contains variables:

id: Weather station ID date: Date of observation prcp: Precipitation
(tenths of mm) snow: Snowfall (mm) snwd: Snow depth (mm) tmax: Maximum
temperature (tenths of degrees C) tmin: Minimum temperature (tenths of
degrees C)

The variable types include id(chr), date(date), prcp(int), snow(int),
snwd(int), tmax(chr), and tmin(chr).

There is a significant amount of missing data. There are 145838 missing
precipitation values, 381221 missing snow values, 591786 missing snow
depth values, 1134358 missing max temperature values, 1134420 missing
min temperature values, 0 missing date values, 0 missing ID values

\#Do some data cleaning. Create separate variables for year, month, and
day.

I also changed the new variables for year, month, and day to character.

\###Ensure observations for temperature, precipitation, and snowfall are
given in reasonable units.

The max tmax value is 99 . The min tmin value is -1. This seems
unreasonable for Celsius measures.

The max precipitation value is 22860. This seems unreasonable for tenths
of a mm.

The max snowfall value is 10160. These values don’t make sense. We
should convert these variables from character and int to double.

``` r
ny_noaa_cleaned <-ny_noaa_cleaned |>
  mutate(
    tmax = as.double(tmax, digits = 2),
    tmin = as.double(tmin, digits = 2),
    snow = as.double(snow, digits = 2),
    snwd = as.double(snow, digits = 2)
  )
```

``` r
ny_noaa_cleaned <- ny_noaa_cleaned |>
  mutate(
    tmax = tmax / 10,
    tmin = tmin / 10
  )
```

The max precipitation value is 22860 The max tmax value is 60 The min
tmin value is -59.4

For snowfall, what are the most commonly observed values? Why?

``` r
ny_noaa_cleaned |>
  ggplot(aes(x = snow)) + 
  geom_histogram() 
```

    ## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.

    ## Warning: Removed 381221 rows containing non-finite outside the scale range
    ## (`stat_bin()`).

![](HW3_2_files/figure-gfm/unnamed-chunk-5-1.png)<!-- -->

``` r
ny_noaa_cleaned |> 
  group_by(snow) |> 
  summarize(count = n()) |> 
  arrange(desc(count))
```

    ## # A tibble: 282 × 2
    ##     snow   count
    ##    <dbl>   <int>
    ##  1     0 2008508
    ##  2    NA  381221
    ##  3    25   31022
    ##  4    13   23095
    ##  5    51   18274
    ##  6    76   10173
    ##  7     8    9962
    ##  8     5    9748
    ##  9    38    9197
    ## 10     3    8790
    ## # ℹ 272 more rows

From the histogram and output, the most commonly observed snowfall
values are zero, NA, 25 and 13. This is because the majority of the
year, there is no snowfall in New York.

Make a two-panel plot showing the average max temperature in January and
in July in each station across years. Is there any observable /
interpretable structure? Any outliers?

The min year is 1981. The max year is 2010.

``` r
avg_maxtemp <- ny_noaa_cleaned |>
  filter(month == 1| month == 7 ) |>
  group_by(id, month, year) |>
  summarize(avg_max_temp = mean(tmax, na.rm = TRUE))
```

    ## `summarise()` has grouped output by 'id', 'month'. You can override using the
    ## `.groups` argument.

``` r
avg_maxtemp |>
  ggplot(aes(x = year, y = avg_max_temp)) + 
  geom_point(aes(color = month)) + 
  geom_smooth(se = FALSE) +
  facet_grid(. ~ month)
```

    ## `geom_smooth()` using method = 'loess' and formula = 'y ~ x'

    ## Warning: Removed 5970 rows containing non-finite outside the scale range
    ## (`stat_smooth()`).

    ## Warning: Removed 5970 rows containing missing values or values outside the scale range
    ## (`geom_point()`).

![](HW3_2_files/figure-gfm/unnamed-chunk-6-1.png)<!-- -->

The average max temperature in January is much lower than the average
max temperature in July across all years. There does not appear to be
too much of an outlier.

Make a two-panel plot showing (i) tmax vs tmin for the full dataset
(note that a scatterplot may not be the best option); and (ii) make a
plot showing the distribution of snowfall values greater than 0 and less
than 100 separately by year.
